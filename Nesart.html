<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Nesart - Mi Portfolio</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="portfolio">

<header id="main-header">
  <div class="logo-container">
    <img src="images/LogoNesArt.png" alt="Logo NesArt" class="logo">
  </div>
  <nav id="main-menu">
    <ul>
      <li><a href="Nesart.html">Nesart</a></li>
      <li><a href="Comisiones.html">Comisiones</a></li>
      <li><a href="Originales.html">Originales</a></li>
      <li><a href="SobreMi.html">Sobre mí</a></li>
      <li><a href="Contacto.html">Contacto</a></li>
    </ul>
  </nav>
</header>

<div class="nesart-hero">
  <h1>PORTFOLIO NESART</h1>
  <p>Bienvenidos a NESART.</p> 
  <p>Aquí encontrarás mi trabajo como artista, conociendo mis diferentes obras y proyectos.</p>
  <p>Si te apasiona el arte, la expresión y la libertad creativa, este es el lugar que estabas buscando.  
  Explora libremente cada rincón de este espacio para descubrir grandes secretos y viajar a los años 20 y 30.</p>
</div>

<!-- ================= SUBMENÚ DE FILTROS ================= -->
<div class="nesart-submenu">
  <ul>
    <li><a href="#" class="filter-btn active" data-filter="all">Todas</a></li>
    <li><a href="#" class="filter-btn" data-filter="color">Color</a></li>
    <li><a href="#" class="filter-btn" data-filter="bn">Blanco y Negro</a></li>
    <li><a href="#" class="filter-btn" data-filter="conceptart">Concept Art</a></li>
  </ul>
</div>

<main>
  <div class="nesart-gallery-container">
    <section class="nesart-masonry" id="nesart-gallery"></section>
  </div>
</main>

<!-- ================= GALERÍA JS ================= -->
<script src="galert.js"></script>
<script>
const gallery = document.getElementById('nesart-gallery');

// Lista de proyectos con categoría
const projects = [
  { image: "CATANDFISH.jpg", title: "CAT & FISH", category: "color" },
  { image: "CRANHELADO.jpg", title: "CRAN HELADO", category: "bn" },
  { image: "BILLCYPHER.jpg", title: "BILL CYPHER", category: "conceptart" },
  { image: "HorrorMovie.png", title: "HORROR MOVIE", category: "color" },
  { image: "SickParty.png", title: "SICK PARTY", category: "bn" },
  { image: "Coffeenstein.jpg", title: "COFFEENSTEIN", category: "conceptart" }
];

// Crear galería tipo puzzle
projects.forEach(proj => {
  const item = document.createElement("div");
  item.className = `nesart-masonry-item ${proj.category}`;  // clase de categoría
  item.innerHTML = `
      <img src="images/Galeria/Nesart/${proj.image}" alt="${proj.title}">
      <div class="nesart-overlay">
        <div class="nesart-overlay-text">
          <strong>${proj.title}</strong>
        </div>
      </div>
  `;
  gallery.appendChild(item);
});

// ==========================
// PUZZLE GRID AUTO AJUSTE
// ==========================
function resizeMasonryItem(item){
  const grid = document.querySelector('.nesart-masonry');
  const rowHeight = parseInt(window.getComputedStyle(grid).getPropertyValue('grid-auto-rows'));
  const rowGap = parseInt(window.getComputedStyle(grid).getPropertyValue('gap'));
  const contentHeight = item.querySelector('img').getBoundingClientRect().height;
  const rowSpan = Math.ceil((contentHeight + rowGap) / (rowHeight + rowGap));
  item.style.gridRowEnd = "span " + rowSpan;
}

function resizeAllMasonryItems(){
  document.querySelectorAll('.nesart-masonry-item').forEach(item => {
    resizeMasonryItem(item);
  });
}

window.addEventListener('load', resizeAllMasonryItems);
window.addEventListener('resize', resizeAllMasonryItems);

// ==========================
// FILTRADO POR SUBMENÚ
// ==========================
const filterButtons = document.querySelectorAll('.filter-btn');
filterButtons.forEach(btn => {
  btn.addEventListener('click', e => {
    e.preventDefault();

    // Activar solo el botón clicado
    filterButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    const filter = btn.dataset.filter;
    document.querySelectorAll('.nesart-masonry-item').forEach(item => {
      if(filter === 'all') {
        item.style.display = 'block';
      } else {
        item.style.display = item.classList.contains(filter) ? 'block' : 'none';
      }
    });

    // Recalcular masonry después del filtrado
    resizeAllMasonryItems();
  });
});
</script>

</body>
</html>
